let r={accessToken:"pk.eyJ1IjoiZ2FsZW9ueWFjaHRpbmciLCJhIjoiY21kenVxc2lvMGRnNTJtc2lmYXE5dGIycSJ9.VqerV12FQZLO9Xbzs5WNUg",style:"mapbox://styles/mapbox/streets-v12",defaultCenter:[10.4515,51.1657],defaultZoom:2,countryZoomDefault:3,locationZoom:5,mapContainerId:"globe-map-container",enableDrag:!0},n=null,t=[],o=!1,l=!1,a=null,i={currentContinent:null,currentCountry:null,currentCountryData:null},s=(document.addEventListener("keydown",()=>{document.body.classList.add("keyboard-user")}),document.addEventListener("mousedown",()=>{document.body.classList.remove("keyboard-user")}),{createMapContainer:()=>{var e=document.createElement("div");return e.id=r.mapContainerId,e.style.cssText="width:1px; height:1px; position:absolute; left:-9999px;",document.body.appendChild(e),e},disableMapControls:t=>{var e=["dragRotate","scrollZoom","touchZoomRotate","doubleClickZoom","keyboard"];r.enableDrag||e.push("dragPan"),e.forEach(e=>t[e]?.disable())},parseLocationData:e=>{try{return JSON.parse(e.textContent)}catch(e){return null}},resetNavigationState:()=>{i={currentContinent:null,currentCountry:null,currentCountryData:null}}});async function c(){if("undefined"==typeof mapboxgl)try{var e=document.createElement("link");e.rel="stylesheet",e.href="https://api.mapbox.com/mapbox-gl-js/v3.14.0/mapbox-gl.css",document.head.appendChild(e),await new Promise((e,t)=>{var o=document.createElement("script");o.src="https://api.mapbox.com/mapbox-gl-js/v3.14.0/mapbox-gl.js",o.onload=e,o.onerror=t,document.head.appendChild(o)})}catch(e){return}s.createMapContainer(),(n=new mapboxgl.Map({container:r.mapContainerId,style:r.style,center:r.defaultCenter,zoom:r.defaultZoom,accessToken:r.accessToken})).on("load",()=>{o=!0,s.disableMapControls(n),setTimeout(()=>{u(),m(),d(),requestAnimationFrame(d),setTimeout(d,350)},300)}),n.on("error",e=>{})}function u(){var e=document.querySelector(".globe_item_map"),t=document.getElementById(r.mapContainerId);e&&t&&(t.style.position="relative",t.style.left="0",e.appendChild(t))}function d(){var e=document.querySelector(".globe_item_map"),t=document.getElementById(r.mapContainerId);e&&t&&0<(e=e.getBoundingClientRect()).width&&0<e.height&&(t.style.width=e.width+"px",t.style.height=e.height+"px",n?.resize())}function m(){var e=document.querySelector(".globe_item_map");e&&(a&&a.disconnect(),(a=new ResizeObserver(d)).observe(e))}function p(){t.forEach(e=>e.remove()),t=[]}function y(t){var e=document.createElement("div");return e.className="custom-marker",e.style.cssText="width:30px; height:30px; cursor:pointer;",e.innerHTML=`<img src="https://cdn.prod.website-files.com/6809e14c25e5cac9d89f62fe/6841b976ba7131f192625c04_Group%2075.svg" style="width:100%; height:auto; cursor:pointer;" title="${t.name}">`,e.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),g(t.lng,t.lat,r.locationZoom),v(t)}),e}async function f(e){o&&n||(await c(),o&&n)?(p(),t=e.map(e=>{var t=y(e),o=new mapboxgl.Marker(t).setLngLat([e.lng,e.lat]).addTo(n);return t.setAttribute("data-poi-marker","true"),t.setAttribute("data-poi-id",e.name||e.lng+"-"+e.lat),o})):setTimeout(()=>f(e),100)}function g(e,t,o=8){n?.flyTo({center:[e,t],zoom:o,duration:1e3})}function b(t){var e=document.querySelectorAll(".globe_filter_item.is-loc");let o=[];return e.forEach(e=>{var e=e.querySelector('script[type="application/json"][data-element="location-data-item"]');e&&(e=s.parseLocationData(e))?.country===t&&null!=e.lng&&null!=e.lat&&o.push({lng:parseFloat(e.lng),lat:parseFloat(e.lat),name:e.name||"Dealer Location",country:e.country})}),o}function v(e){var t;document.querySelectorAll(".globe_item_modal").forEach(e=>{e.style.display="none",e.classList.remove("is-open-modal")});let o=null;for(t of document.querySelectorAll('script[data-element="location-data-item"]')){var n=s.parseLocationData(t);if(n?.lat===e.lat&&n?.lng===e.lng){o=t;break}}if(o){var a=o.closest(".globe_filter_item.is-loc")?.querySelector(".globe_item_modal");if(a){a.style.display="flex",a.classList.add("is-open-modal");var r=a.querySelector("#back-to-dealers");if(r&&(r.focus({preventScroll:!0}),window.setupNavigationAccessibility)){r=a.querySelectorAll('button, a, input, textarea, select, [tabindex]:not([tabindex="-1"])');if(0<r.length){let t=r[0],o=r[r.length-1];a.addEventListener("keydown",e=>{"Tab"===e.key&&(e.shiftKey&&document.activeElement===t?(e.preventDefault(),o.focus()):e.shiftKey||document.activeElement!==o||(e.preventDefault(),t.focus()))})}}}}}function k(){document.querySelectorAll(".globe_item_modal").forEach(e=>{e.style.display="none",e.classList.remove("is-open-modal")})}async function h(){var e,t,o;i.currentCountry&&i.currentCountryData&&({lng:e,lat:t,zoom:o}=i.currentCountryData,await f(b(i.currentCountry)),g(parseFloat(e),parseFloat(t),o?parseInt(o):r.countryZoomDefault))}async function C(n){if(!l&&n.target.matches(".globe_radio_input")){var a=n.target.closest(".globe_filter_item");if(a?.classList.contains("is-continent")){a=a.querySelector('script[type="application/json"][data-element="location-data"]');if(a){a=s.parseLocationData(a);if(a?.lng&&a?.lat){let e=parseFloat(a.lng),t=parseFloat(a.lat),o=a.zoom?parseInt(a.zoom):r.countryZoomDefault;i.currentCountry=n.target.value,i.currentCountryData=a,await f(b(n.target.value)),setTimeout(()=>g(e,t,o),300)}}}}}function e(e){e.target.closest(".custom-marker")||e.target.closest("[data-poi-marker]")||(e=e.target.closest(".globe_item_button.is-loc"))&&(e=e.closest(".globe_filter_item")?.querySelector('script[type="application/json"][data-element="location-data-item"]'))&&(e=s.parseLocationData(e))?.lng&&e?.lat&&(g((e={lng:parseFloat(e.lng),lat:parseFloat(e.lat),name:e.name||"Dealer Location"}).lng,e.lat,r.locationZoom),v(e))}function E(e){e=e.target;e.matches("#back-to-countries")&&(l=!0,n?.flyTo({center:r.defaultCenter,zoom:r.defaultZoom,duration:1e3}),p(),s.resetNavigationState(),setTimeout(()=>l=!1,1e3)),e.matches("#back-to-continents")&&(n?.flyTo({center:r.defaultCenter,zoom:r.defaultZoom,duration:1e3}),p(),s.resetNavigationState()),(e.matches("#back-to-dealers")||e.closest("#back-to-dealers"))&&(k(),h().catch(console.error))}function w(){var e=document.getElementById("globe-section");e&&e.addEventListener("click",async()=>{if(!o&&!n){var e=document.createElement("div");e.textContent="Loading map...",e.style.cssText="position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: rgba(0,0,0,0.8); color: white; padding: 20px; border-radius: 8px; z-index: 9999;",document.body.appendChild(e);try{await c()}catch(e){}finally{e.parentNode&&e.parentNode.removeChild(e)}}})}function L(){let l={toggleNav:document.getElementById("toggle-nav"),closeNav:document.getElementById("close-nav"),continents:document.getElementById("continents"),countries:document.getElementById("countries"),dealers:document.getElementById("dealers")},i={radioButtons:'input[type="radio"]',dealerButtons:".globe_item_button.is-loc",continentList:".globe_filter-list",dealerList:'.globe_list-list[role="list"]',backToCountries:"#back-to-countries",backToDealers:"#back-to-dealers",backToContinents:"#back-to-continents",modal:".globe_item_modal",focusable:'button, a, input, textarea, select, [tabindex]:not([tabindex="-1"])'};if(Object.values(l).every(Boolean)){let r={isElementVisible:e=>{var t=window.getComputedStyle(e);return"none"!==t.display&&"hidden"!==t.visibility&&"0"!==t.opacity&&null!==e.offsetParent},isDropdownOpen:()=>"true"===l.toggleNav.getAttribute("aria-expanded"),getVisibleItems:(e,t)=>{if(e===l.dealers){var o=e.querySelector(i.dealerList);if(o)return o=o.querySelectorAll(i.dealerButtons),Array.from(o).filter(r.isElementVisible)}return Array.from(e.querySelectorAll(t)).filter(r.isElementVisible)},focusFirstVisible:(t,o,e=300)=>{document.body.classList.contains("keyboard-user")&&setTimeout(()=>{var e=r.getVisibleItems(t,o)[0];e&&e.focus()},e)}},n={continentClick:e=>{e.target.closest(i.radioButtons)&&r.focusFirstVisible(l.countries,i.radioButtons)},countryClick:e=>{e.target.closest(i.radioButtons)&&!e.target.closest(i.backToContinents)&&r.focusFirstVisible(l.dealers,i.dealerButtons)},dealerClick:e=>{e.target.closest(".custom-marker")||e.target.closest("[data-poi-marker]")||(e=e.target.closest(i.dealerButtons))&&(e=e.closest(".globe_filter_item").querySelector(i.modal))&&"none"!==e.style.display&&n.setupModalFocusTrap(e)},setupModalFocusTrap:e=>{var t=e.querySelectorAll(i.focusable),o=Array.from(t).filter(e=>"A"===e.tagName),t=Array.from(t).filter(e=>"A"!==e.tagName),o=[...o,...t],[t,o]=[o[0],o[o.length-1]],t=(t&&(t.focus(),e.addEventListener("keydown",n.modalKeydown.bind(null,t,o))),e.querySelector(i.backToDealers));t&&t.addEventListener("click",()=>{r.focusFirstVisible(l.dealers,i.dealerButtons,1200)})},modalKeydown:(e,t,o)=>{"Tab"===o.key&&(o.shiftKey&&document.activeElement===e?(o.preventDefault(),t.focus()):o.shiftKey||document.activeElement!==t||(o.preventDefault(),e.focus()))}},a={setupArrowNavigation:()=>{var e=(n,a)=>{var e=n.querySelector(i.continentList)||n.querySelector(i.dealerList);e&&e.addEventListener("keydown",e=>{var t,o;r.isDropdownOpen()&&(o=(t=r.getVisibleItems(n,a)).indexOf(document.activeElement),"ArrowDown"===e.key?(e.preventDefault(),t[o<t.length-1?o+1:0].focus()):"ArrowUp"===e.key?(e.preventDefault(),t[0<o?o-1:t.length-1].focus()):"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),document.activeElement.click()))})};e(l.continents,i.radioButtons),e(l.countries,i.radioButtons),e(l.dealers,i.dealerButtons)},setupTabNavigation:()=>{document.addEventListener("keydown",e=>{var t,o,n;"Tab"===e.key&&r.isDropdownOpen()&&(n=(t=document.activeElement).closest("#continents, #countries, #dealers"))&&(o=a.getClearButton(n),n=a.getFirstListItem(n),o)&&n&&(e.shiftKey&&t===n?(e.preventDefault(),o.focus()):e.shiftKey||t!==o||(e.preventDefault(),n.focus()))})},getClearButton:e=>e===l.continents?l.closeNav:e===l.countries?e.querySelector(i.backToContinents):e===l.dealers?e.querySelector(i.backToCountries):null,getFirstListItem:e=>{var t=e===l.dealers?i.dealerButtons:i.radioButtons;return r.getVisibleItems(e,t)[0]}},e={setup:()=>{l.closeNav&&l.closeNav.addEventListener("click",()=>{l.toggleNav.focus()});var e=l.dealers.querySelector(i.backToCountries),e=(e&&e.addEventListener("click",()=>{r.focusFirstVisible(l.countries,i.radioButtons,800)}),l.countries.querySelector(i.backToContinents));e&&e.addEventListener("click",()=>{r.focusFirstVisible(l.continents,i.radioButtons,800)})}};l.continents.addEventListener("click",n.continentClick),l.countries.addEventListener("click",n.countryClick),l.dealers.addEventListener("click",n.dealerClick),a.setupArrowNavigation(),a.setupTabNavigation(),e.setup()}}function T(){let e=document.getElementById("toggle-nav"),t=null,o=null;e&&(setTimeout(()=>e.setAttribute("aria-expanded","false"),3e3),new MutationObserver(()=>{e.classList.contains("w--open")?(t&&clearTimeout(t),o&&clearTimeout(o),setTimeout(()=>e.setAttribute("aria-expanded","true"),0)):(o&&clearTimeout(o),o=setTimeout(()=>{document.querySelectorAll('.globe_form [fs-list-element="clear"]').forEach(e=>"function"==typeof e.click&&e.click())},10),t&&clearTimeout(t),t=setTimeout(()=>{e.classList.contains("w--open")||e.setAttribute("aria-expanded","false")},1100))}).observe(e,{attributes:!0,attributeFilter:["class"]}))}document.addEventListener("change",e=>C(e).catch(console.error)),document.addEventListener("click",e),document.addEventListener("click",E),window.addEventListener("resize",d),window.setupMapboxLazyLoad=w,window.setupNavigationAccessibility=L,window.setupToggleNavigation=T,w(),L(),T(),window.mapboxReady=!0;