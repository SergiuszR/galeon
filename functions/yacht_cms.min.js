class SwiperManager{constructor(){this.swiperInstances=[],this.transitionMs=300,this._interiorListTimer=null,this.variantGalleryCache={},this.currentVariantFilterTerm="",this._variantFirstFilterDone=!1,this.init()}init(){document.addEventListener("DOMContentLoaded",()=>{this.initializeAllSwipers(),this.setupTabHandlers(),this.setupResizeHandler()})}initializeAllSwipers(){this.initializeBlockSliders(),this.initializeRegularSliders(),this.initializeYachtGallerySliders()}initializeBlockSliders(){document.querySelectorAll(".block-slider_grid").forEach(t=>{var e;t&&(e=t.querySelector(".block-slider_list-wrap"))&&this.createSwiper(e,{wrapperClass:"block-slider_list",slideClass:"block-slider_image",speed:500,loop:!1,navigation:{nextEl:t.querySelector("[data-button-right]"),prevEl:t.querySelector("[data-button-left]")},on:{init:e=>this.updateSlideCount(e,t),slideChange:e=>this.updateSlideCount(e,t)}})})}initializeRegularSliders(){document.querySelectorAll(".slider_wrapper:not(.yacht_gallery_component)").forEach(t=>{var e,i;t&&(e=t.querySelector(".slider"))&&(i=t.hasAttribute("data-wide-slider"),this.createSwiper(e,{wrapperClass:"slider_list",slideClass:"slider_item",watchOverflow:!0,allowTouchMove:!1,breakpoints:{0:{slidesPerView:i?1:1.1,allowTouchMove:!0,spaceBetween:16},478:{slidesPerView:i?1:1.1,allowTouchMove:!0,spaceBetween:24},767:{slidesPerView:i?1.2:1.5,allowTouchMove:!0,spaceBetween:24},991:{slidesPerView:i?1.2:1.5,allowTouchMove:!0,spaceBetween:24}},pagination:{el:t.querySelector(".slider_bullets"),clickable:!0},lazy:!1,keyboard:{enabled:!0},navigation:{nextEl:t.querySelector("[data-button-right]"),prevEl:t.querySelector("[data-button-left]")},speed:500,on:{init:e=>{this.updateSlideCount(e,t),setTimeout(()=>{e.update(),this.updateSlideCount(e,t)},100)},slideChange:e=>this.updateSlideCount(e,t),slideChangeTransitionEnd:e=>{e.updateSlidesClasses(),this.updateSlideCount(e,t)}}}))})}initializeYachtGallerySliders(){document.querySelectorAll(".tabs .slider-full").forEach(e=>{var t;e&&(this.createYachtGallerySwiper(e),t=e.closest(".tabs_tab"))&&"tab-interior-variant-gallery"===t.id&&(t=e.querySelector(".slider_list-full"))&&!this.variantGalleryCache.originalHTML&&(this.variantGalleryCache.originalHTML=t.innerHTML)})}createYachtGallerySwiper(i){let a=i.closest(".tabs_tab");this.createSwiper(i,{wrapperClass:"slider_list-full",slideClass:"slider_item-full",watchOverflow:!0,slidesPerView:1,loop:!1,effect:"fade",grabCursor:!0,spaceBetween:16,allowTouchMove:!0,lazy:!1,keyboard:{enabled:!0},speed:500,observer:!0,observeParents:!0,initialSlide:0,navigation:{nextEl:a?.querySelector("[data-button-right]"),prevEl:a?.querySelector("[data-button-left]")},on:{init:e=>{var t=this.getVisibleSlidesCount(i);this.updateYachtGallerySlideCount(e,a,t),setTimeout(()=>{e.update(),this.updateYachtGallerySlideCount(e,a,this.getVisibleSlidesCount(i))},100)},slideChange:e=>{this.updateYachtGallerySlideCount(e,a,this.getVisibleSlidesCount(i))},slideChangeTransitionEnd:e=>{e.updateSlidesClasses(),this.updateYachtGallerySlideCount(e,a,this.getVisibleSlidesCount(i))}}})}canInitializeSwiper(e,t){try{var i,a,r,l;return e&&1===e.nodeType?(i=t&&t.wrapperClass?String(t.wrapperClass).trim():"",a=t&&t.slideClass?String(t.slideClass).trim():"",!(!i||!a)&&!!(r=e.querySelector("."+i))&&(l=r.querySelectorAll("."+a))&&0<l.length):!1}catch(e){return!1}}createSwiper(e,t){var i,a,r;return e&&(1===e.nodeType||"undefined"!=typeof Element&&e instanceof Element)&&((t={...t||{}}).navigation&&(a=t.navigation.nextEl,r=t.navigation.prevEl,(i=e=>!!e&&(1===e.nodeType||"undefined"!=typeof Element&&e instanceof Element))(a)&&i(r)?t.navigation={nextEl:a,prevEl:r}:delete t.navigation),t.pagination&&(i=t.pagination.el,!!(a=i)&&(1===a.nodeType||"undefined"!=typeof Element&&a instanceof Element)?t.pagination={...t.pagination,el:i}:delete t.pagination),this.canInitializeSwiper(e,t))?(r=new Swiper(e,t),this.swiperInstances.push(r),r):null}updateSlideCount(e,t){var i,a=t.querySelector("[data-slide-count]"),t=t.querySelector("[data-slides-total]");a&&(i=(e.activeIndex+1).toString().padStart(2,"0"),a.innerHTML=i),t&&(a=e.slides.length.toString().padStart(2,"0"),t.innerHTML=a)}updateYachtGallerySlideCount(t,i,a=null){var e,r=i?.querySelector("[data-slide-count]"),i=i?.querySelector("[data-slides-total]");if(r&&(e=null!=a?a:t&&t.slides?Array.from(t.slides).filter(e=>"none"!==e.style.display).length:0,l="number"==typeof t?.realIndex?t.realIndex:"number"==typeof t?.activeIndex?t.activeIndex:0,l=Math.min(Math.max(l,0),Math.max(e-1,0)),e=(0===e?0:l+1).toString().padStart(2,"0"),r.innerHTML=e),i){let e=a;null==e&&(l=Array.from(t.slides||[]).filter(e=>"none"!==e.style.display),e=l.length||(t.slides?t.slides.length:0));var l,r=e.toString().padStart(2,"0");i.innerHTML=r}}getVisibleSlidesCount(e){try{var t;return e?(t=Array.from(e.querySelectorAll(".slider_item-full"))).filter(e=>e&&"none"!==e.style.display).length||t.length:0}catch(e){return 0}}destroySwipersInTab(e){e&&e.querySelectorAll(".slider-full").forEach(i=>{i&&this.swiperInstances.forEach((e,t)=>{e&&e.el===i&&(e.destroy(!0,!0),this.swiperInstances[t]=null)})})}initializeSwipersInTab(e){e&&e.querySelectorAll(".slider-full").forEach(t=>{if(t){try{t.style.removeProperty("visibility"),t.style.removeProperty("opacity"),t.style.removeProperty("transition")}catch(e){}this.swiperInstances.find(e=>e&&e.el===t)||this.createYachtGallerySwiper(t)}})}setupTabHandlers(){var e=document.querySelector(".tabs_buttons.is-yacht-gallery");e&&(e=e.querySelectorAll(".tabs_button"),this.initializeInteriorListVisibility(),e.forEach(e=>{e.addEventListener("click",i=>{i=i.target.closest(".tabs_button").id;let a="";if("button-interior-gallery"===i?a="tab-interior-gallery":"button-exterior-gallery"===i?a="tab-exterior-gallery":"button-cockpit-gallery"===i&&(a="tab-cockpit-gallery"),a){i=document.querySelector(".tabs_tab.active-tab");if(!i||i.id!==a){let e=document.querySelector(".tabs_tab.active-tab");e&&Array.from(e.querySelectorAll(".slider-full")).forEach(t=>{if(t){var e=this.swiperInstances.find(e=>e&&e.el===t);if(e)try{e.allowSlideNext=!1,e.allowSlidePrev=!1,e.allowTouchMove=!1}catch(e){}try{t.style.transition="opacity 0ms",t.style.opacity="0",t.style.visibility="hidden"}catch(e){}}});var i=document.getElementById("tab-interior-variant-gallery");i&&"tab-interior-variant-gallery"!==a&&(i.classList.remove("active-tab"),i.style.display="none",i.style.opacity="0"),this.switchToTab(a);let t=document.getElementById(a);t&&(i=this.transitionMs||300,setTimeout(()=>{e&&(this.destroySwipersInTab(e),this.swiperInstances=this.swiperInstances.filter(e=>null!==e))},i+20),setTimeout(()=>{this.initializeSwipersInTab(t)},i+50)),clearTimeout(this._interiorListTimer),this._interiorListTimer=setTimeout(()=>{var e="tab-interior-gallery"===a||"tab-interior-variant-gallery"===a;this.showInteriorList(e),"tab-interior-gallery"===a&&document.querySelectorAll(".interior_list-wrapper .tabs_button").forEach(e=>{e.classList.remove("active-tab"),e.setAttribute("aria-selected","false")})},this.transitionMs)}}})}))}showInteriorList(e){let t=document.querySelector(".interior_list-wrapper");var i;t&&(i=this.transitionMs||300,e?(t.style.transition=`opacity ${i}ms ease`,t.style.display="block",t.style.opacity="0",t.offsetHeight,t.style.opacity="1"):(t.style.transition=`opacity ${i}ms ease`,t.style.opacity="0",setTimeout(()=>{t.style.display="none"},i)))}initializeInteriorListVisibility(){var e=document.querySelector('.tabs_button.is-yacht-gallery[aria-selected="true"]');e&&(e=e.getAttribute("aria-controls"),this.showInteriorList("tab-interior-gallery"===e||"tab-interior-variant-gallery"===e)),this.initializeInteriorListButtons()}switchToTab(e){var t=document.querySelectorAll(".tabs_tab");let i=Array.from(t).find(e=>e.classList.contains("active-tab")),a=document.getElementById(e),r=(a?a.closest(".tabs"):null)||(a?a.parentElement:null);if(r&&(t=r.offsetHeight,r.style.minHeight=t+"px"),i&&i!==a)i.style.transition="opacity 300ms ease",i.style.opacity="0",setTimeout(()=>{i.classList.remove("active-tab"),i.style.display="none",a&&(a.classList.add("active-tab"),a.style.display="flex",a.style.transition="opacity 300ms ease",a.style.opacity="0",a.offsetHeight,a.style.opacity="1"),setTimeout(()=>{r&&(r.style.minHeight="")},320)},300);else if(i&&i===a)return i.style.display="flex",i.style.opacity="1",void(r&&(r.style.minHeight=""));a&&!i&&(a.classList.add("active-tab"),a.style.display="flex",a.style.transition="opacity 300ms ease",a.style.opacity="0",a.offsetHeight,a.style.opacity="1",setTimeout(()=>{r&&(r.style.minHeight="")},320));document.querySelectorAll(".tabs_button.is-yacht-gallery").forEach(e=>{e.classList.remove("active-tab"),e.setAttribute("aria-selected","false"),e.setAttribute("tabindex","-1")});t=document.querySelector(`[aria-controls="${e}"]`);t&&(t.classList.add("active-tab"),t.setAttribute("aria-selected","true"),t.setAttribute("tabindex","0"))}initializeInteriorListButtons(){document.querySelectorAll(".interior_list-wrapper").forEach(e=>{let s=e.querySelectorAll(".tabs_button");0<s.length&&(s.forEach(e=>{e.classList.remove("active-tab"),e.setAttribute("aria-selected","false")}),s.forEach(l=>{l.addEventListener("click",e=>{var t=(l.textContent||l.innerText||"").trim(),i=this.sanitizeString(t),a=document.getElementById("tab-interior-variant-gallery"),a=!(!a||!a.classList.contains("active-tab")),r="true"===l.getAttribute("aria-selected");r||a&&this.currentVariantFilterTerm===i||r&&a&&this.currentVariantFilterTerm===i||(s.forEach(e=>{e.classList.remove("active-tab"),e.setAttribute("aria-selected","false")}),l.classList.add("active-tab"),l.setAttribute("aria-selected","true"),this.pendingVariantFilterTerm=t,this.switchToInteriorVariant(t))})}))})}switchToInteriorVariant(e){var i="tab-interior-variant-gallery";let a=document.getElementById(i);if(a){var r=a.classList.contains("active-tab");if(!r)try{var l,s=a.querySelector(".slider-full");s&&(l=this.transitionMs||300,s.style.transition=`opacity ${l}ms ease`,s.style.opacity="0",s.style.visibility="hidden")}catch(e){}this.switchToTab(i);let t=document.getElementById("button-interior-gallery");t&&(document.querySelectorAll(".tabs_button.is-yacht-gallery").forEach(e=>{e!==t&&(e.classList.remove("active-tab"),e.setAttribute("aria-selected","false"),e.setAttribute("tabindex","-1"))}),t.classList.add("active-tab"),t.setAttribute("aria-selected","true"),t.setAttribute("tabindex","0")),r?(l=this.pendingVariantFilterTerm||e||"",this.filterInteriorVariantByTerm(l,!1,!0),setTimeout(()=>{var e=a.querySelector(".slider-full");e&&(e.style.visibility="visible"),this.pendingVariantFilterTerm=""},80)):(((s=a.closest(".tabs"))?s.querySelectorAll(".tabs_tab"):[]).forEach(e=>{this.destroySwipersInTab(e)}),this.swiperInstances=this.swiperInstances.filter(e=>null!==e),setTimeout(()=>{let i=this.pendingVariantFilterTerm||e||"";this.filterInteriorVariantByTerm(i,!0,!0),setTimeout(()=>{this.refreshInteriorVariantSwiper(i);var e=a.querySelector(".slider-full"),t=this.transitionMs||300;e&&(e.style.transition=`opacity ${t}ms ease`,e.style.visibility="visible",e.offsetHeight,e.style.opacity="1"),this.pendingVariantFilterTerm="",this._variantFirstFilterDone=!0},80)},this.transitionMs+50)),clearTimeout(this._interiorListTimer),this._interiorListTimer=setTimeout(()=>{this.showInteriorList(!0)},this.transitionMs)}}sanitizeString(e){return(e||"").toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g," ").trim()}getFilenamesFromSlide(e){if(!e)return[];let a=[];return Array.from(e.querySelectorAll("img")).forEach(e=>{if(e){let t=[];e.currentSrc&&t.push(e.currentSrc),e.src&&t.push(e.src);e=e.getAttribute("srcset");e&&e.split(",").forEach(e=>{e=e.trim().split(" ")[0];e&&t.push(e)}),t.forEach(e=>{try{var t=e.split("?")[0].split("/"),i=t[t.length-1];i&&a.push(i)}catch(e){}})}}),a}filterInteriorVariantByTerm(t,h=!1,f=!1){let v=document.getElementById("tab-interior-variant-gallery");if(v){let c=this.sanitizeString(t),u=c.split(/\s+/).filter(Boolean),y=v.querySelector(".slider-full"),p=v.querySelector(".slider_list-full");if(y&&p){let o=this.transitionMs||300,e=v;let d=()=>{e&&(e.style.minHeight="")};var i,t=()=>{let t=this.swiperInstances.find(e=>e&&e.el===y),a=null;if(f&&t&&t.slides)try{var e,i="number"==typeof t.realIndex?t.realIndex:"number"==typeof t.activeIndex?t.activeIndex:0,r=t.slides[i];r&&(e=this.getFilenamesFromSlide(r))&&e.length&&(a=this.sanitizeString(e[0]))}catch(e){}if(t)try{var l="number"==typeof t.realIndex?t.realIndex:"number"==typeof t.activeIndex?t.activeIndex:0;t.allowSlideNext=!1,t.allowSlidePrev=!1,t.allowTouchMove=!1,t.slideTo(l,0)}catch(e){}this.variantGalleryCache.originalHTML?p.innerHTML=this.variantGalleryCache.originalHTML:this.variantGalleryCache.originalHTML=p.innerHTML;i=Array.from(p.querySelectorAll(".slider_item-full"));let s=i.filter(e=>{let t=this.getFilenamesFromSlide(e).map(e=>this.sanitizeString(e)).join(" | ");return 0===u.length||u.every(e=>t.includes(e))}),n=(i.forEach(e=>{s.includes(e)||e.remove()}),t&&(t.destroy(!0,!0),this.swiperInstances=this.swiperInstances.filter(e=>e&&e!==t)),this.createYachtGallerySwiper(y),this.swiperInstances.find(e=>e&&e.el===y));n&&setTimeout(()=>{"function"==typeof n.updateSlides&&n.updateSlides(),"function"==typeof n.updateSlidesClasses&&n.updateSlidesClasses(),"function"==typeof n.update&&n.update();let t=0;if(f&&a)try{var i=Array.from(p.querySelectorAll(".slider_item-full"));for(let e=0;e<i.length;e++)if(this.getFilenamesFromSlide(i[e]).map(e=>this.sanitizeString(e)).includes(a)){t=e;break}}catch(e){}0<s.length&&n.slideTo(t,0),setTimeout(()=>{this.updateYachtGallerySlideCount(n,v,s.length)},30)},50),this.currentVariantFilterTerm=c,h?d():(y.style.transition=`opacity ${o}ms ease`,y.style.opacity="1",setTimeout(d,o+20))};h?t():(e&&(i=e.offsetHeight,e.style.minHeight=i+"px"),y.style.transition=`opacity ${o}ms ease`,y.style.opacity="0",setTimeout(t,o+20))}}}refreshInteriorVariantSwiper(e){var i=document.getElementById("tab-interior-variant-gallery");if(i){var a,r,l,s=Array.from(i.querySelectorAll(".slider_item-full"));let t=i.querySelector(".slider-full");t&&(a=this.swiperInstances.find(e=>e&&e.el===t))&&(a.updateSlides(),a.updateSlidesClasses(),a.update(),(l=(r=s.filter(e=>"none"!==e.style.display)).length?r[0]:null)&&0<=(s=s.indexOf(l))&&a.slideTo(s,0),this.updateYachtGallerySlideCount(a,i,r.length))}}setupResizeHandler(){window.addEventListener("resize",()=>{this.swiperInstances.forEach(e=>{e&&setTimeout(()=>{e.update(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses()},100)})})}}function initMobileVideoCanvas(){if(!(991<window.innerWidth)){gsap.core.globals().ScrollTrigger||gsap.registerPlugin(ScrollTrigger);let l=document.getElementById("videoCanvasMobile"),s=l.getContext("2d"),t=document.getElementById("loading");var y=l.getAttribute("video-src-mobile");let i=parseInt(l.getAttribute("video-frames-mobile"),10);var p;let n=[],a=[],r=0,o=0,d=0,c=!1;for(let e=0;e<i;e++){var h=new Image;h.src=""+y.replace(/\/?$/,"/")+(p=e,String(p+1).padStart(5,"0"))+".avif",n.push(h),a.push(!1),h.onload=()=>{a[e]=!0,r++,0===e&&v(0),t&&(!c&&3<=r?(c=!0,t.style.display="none"):c||(t.textContent=`Loading... ${Math.round(r/Math.min(i,10)*100)}%`))},h.onerror=()=>{a[e]=!1}}let u=null;function f(e){return a[e]}function e(){var e=window.devicePixelRatio||1;l.width=l.offsetWidth*e,l.height=l.offsetHeight*e,s.setTransform(1,0,0,1,0,0),s.scale(e,e),v(o)}function v(e){var t,i,a,r;f(e)?(t=n[e],s.clearRect(0,0,l.width,l.height),i=Math.min(l.offsetWidth/t.width,l.offsetHeight/t.height),a=(l.offsetWidth-t.width*i)/2,r=(l.offsetHeight-t.height*i)/2,s.drawImage(t,a,r,t.width*i,t.height*i),d=e):f(d)&&v(d)}function m(t){u=u||requestAnimationFrame(()=>{var e;e=t,v(o=Math.min(i-1,Math.floor(e*(i-1)))),u=null})}gsap.to({},{scrollTrigger:{trigger:".track",start:"top top",end:"bottom bottom",scrub:!0,onUpdate:e=>m(e.progress),invalidateOnRefresh:!0}}),window.addEventListener("resize",e),e()}}function initDesktopVideoCanvas(){if(!(window.innerWidth<992)){gsap.core.globals().ScrollTrigger||gsap.registerPlugin(ScrollTrigger);let i=document.getElementById("videoCanvas"),a=i.getContext("2d"),e=i.getAttribute("video-src"),r,l,s,t;function n(){var e,t=window.devicePixelRatio||1;i.width=i.offsetWidth*t,i.height=i.offsetHeight*t,r&&r.videoWidth&&r.videoHeight&&(e=r.videoWidth/r.videoHeight,i.width/i.height<e?(s=i.height/t,l=s*e):(l=i.width/t,s=l/e)),a.setTransform(1,0,0,1,0,0),a.scale(t,t)}function o(){var e,t;r&&r.videoWidth&&r.videoHeight&&(a.clearRect(0,0,i.width,i.height),e=(i.offsetWidth-l)/2,t=(i.offsetHeight-s)/2,a.drawImage(r,e,t,l,s))}function d(){t&&(t.kill(),t=null),t=gsap.timeline({scrollTrigger:{trigger:".track",start:"top top",end:"bottom bottom",scrub:!0,onUpdate:e=>{var i,e=r.duration*e.progress;.01<Math.abs(r.currentTime-e)&&(i=e,new Promise(t=>{r.addEventListener("seeked",function e(){r.removeEventListener("seeked",e),o(),t()}),r.currentTime=i,r.play().then(()=>r.pause())}))}}}).to(r,{currentTime:r.duration,ease:"none"})}window.addEventListener("resize",()=>{n(),o(),ScrollTrigger.refresh()}),window.addEventListener("scroll",o,{passive:!0}),(r=document.createElement("video")).muted=!0,r.preload="auto",r.playsInline=!0,r.loop=!1,r.src=e,r.load(),r.addEventListener("loadedmetadata",function e(){r.removeEventListener("loadedmetadata",e),n(),r.currentTime=0,o(),d(),ScrollTrigger.refresh()})}}function fixInvisibleActiveTab(){var e=Array.from(document.querySelectorAll(".tabs_button.is-cms")),i=Array.from(document.querySelectorAll(".tabs_tab"));if(e.some(e=>!e.classList.contains("w-condition-invisible"))){var a=e.find(e=>"true"===e.getAttribute("aria-selected")&&e.classList.contains("active-tab"));if(a&&a.classList.contains("w-condition-invisible")){a=e.find(e=>!e.classList.contains("w-condition-invisible"));if(a){e.forEach(e=>{e.classList.remove("active-tab"),e.setAttribute("aria-selected","false"),e.tabIndex=-1}),a.classList.add("active-tab"),a.setAttribute("aria-selected","true"),a.tabIndex=0;let t=a.getAttribute("aria-controls");e=i.find(e=>e.id===t&&!e.classList.contains("w-condition-invisible"));i.forEach(e=>{e.classList.remove("active-tab"),e.setAttribute("aria-hidden","true"),e.style.display="none",e.style.opacity="0"}),e&&(e.classList.add("active-tab"),e.setAttribute("aria-hidden","false"),e.style.display="flex",e.style.opacity="1")}}}}$(function(){function i(e){var t=e.replace(/^button-/,"");$('.layouts_pin-list > [role="listitem"]').each(function(){var e=0<$(this).find('.modal_button[data-tab="'+t+'"]').length;$(this).css("display",e?"block":"none")})}function r(e){e.index();$("[data-control='layouts']").removeClass("active-tab").attr({"aria-selected":"false",tabindex:"-1"}),e.addClass("active-tab").attr({"aria-selected":"true",tabindex:"0"}).focus();var t=e.attr("id");$("[data-control='layouts']").each(function(){var e=$(this).attr("id")===t;$(this).toggleClass("active-tab",e).attr("tabindex",e?"0":"-1")}),$(".tabs_tab-item").each(function(){var e=$(this).attr("aria-labelledby")===t;$(this).toggleClass("active-tab",e)}),i(t)}var t,e;$("[data-control='layouts']").on("click",function(){r($(this))}),$("[data-control='layouts']").on("keydown",function(e){var t,i=$("[data-control='layouts']"),a=i.index(this);"ArrowRight"!==e.key&&39!==e.keyCode||(e.preventDefault(),t=(a+1)%i.length,i.eq(t).focus()),"ArrowLeft"!==e.key&&37!==e.keyCode||(e.preventDefault(),t=(a-1+i.length)%i.length,i.eq(t).focus()),"Enter"!==e.key&&" "!==e.key&&13!==e.keyCode&&32!==e.keyCode||(e.preventDefault(),r($(this)))}),0!==(e=$("[data-control='layouts']").filter(function(){return!$(this).hasClass("w-condition-invisible")})).length&&(e=e.first(),t=e.attr("id"),$("[data-control='layouts']").each(function(){$(this).removeClass("active-tab").attr({"aria-selected":"false",tabindex:"-1"})}),$(".tabs_tab-item").each(function(){$(this).removeClass("active-tab")}),e.addClass("active-tab").attr({"aria-selected":"true",tabindex:"0"}),$(".tabs_tab-item").each(function(){var e=$(this).attr("aria-labelledby")===t;$(this).toggleClass("active-tab",e)}),i(t))}),document.addEventListener("DOMContentLoaded",function(){setTimeout(function(){var e=window.scrollY;document.querySelectorAll(".custom_finish_list").forEach(function(e){if(e){var t=e.querySelectorAll(".custom_finish_item");for(let e=0;e<t.length;e++){var i=t[e];if(i)try{var a=window.getComputedStyle(i);if(a&&"none"!==a.display){var r=i.querySelector(".custom_radio_label");r&&(r.click(),r.classList.add("is-list-active"));break}}catch(e){continue}}}}),window.scrollTo(0,e)},2e3)});let currentFilters={space:null,finish:null};function updateVideoVisibility(){$(".plyr_component").each(function(){var e=$(this).data("plyr-player");e&&e.playing&&e.pause()}),$(".custom_item").css("opacity","0").removeClass("is-custom-show"),setTimeout(()=>{$(".custom_item").css("display","none"),$(".custom_item").each(function(){let e=$(this);shouldShowVideo(e,currentFilters)&&(e.addClass("is-custom-show"),e.css("display","block"),setTimeout(()=>{e.css("opacity","1")},50))})},500)}function shouldShowVideo(e,t){var i;return!t.space&&!t.finish||(i=e.attr("data-space"),e=e.attr("data-finish"),!(t.space&&t.space!==i||t.finish&&t.finish!==e))}function setPinHeight(){var e=$(".tabs_tab-item").first().outerHeight();$(".layouts_pin-wrapper").height(e)}$(document).ready(function(){$("[data-vimeo]").css({opacity:"1",transition:"opacity 0.5s ease-in-out"}),setTimeout(function(){updateVideoVisibility()},2e3),$(document).on("change","input[type='radio']",function(){var e=$(this).attr("name"),t=$(this).val();currentFilters[e]=t,updateVideoVisibility()});var e=new MutationObserver(function(e){e.forEach(function(e){"childList"===e.type&&e.target.classList.contains("custom_list")&&updateVideoVisibility()})}),t=document.querySelector(".custom_list");t&&e.observe(t,{childList:!0,subtree:!0})}),$(document).ready(function(){$(".plyr_component").has(".plyr_cover").each(function(e){let i=$(this);var a=i.find(".plyr_embed")[0];let r=i.find(".plyr_video")[0]||(a?$(a).find("iframe")[0]:null);if(r||a){if(r&&r.classList.contains("plyr_video")){var t=r.getAttribute("data-vimeo-id")||r.getAttribute("data-video-id")||i.attr("data-video-id")||i.attr("data-vimeo-id");if(!t)return;r.src=`https://player.vimeo.com/video/${t}?loop=false&byline=false&portrait=false&title=false&speed=true&transparent=0&gesture=media`,r.setAttribute("allowfullscreen",""),r.setAttribute("allowtransparency",""),r.setAttribute("allow","autoplay"),r.parentElement&&r.parentElement.classList.add("plyr__video-embed")}else if(a)if(r=$(a).find("iframe")[0]){t=r.getAttribute("data-vimeo-id");t&&(r.src=`https://player.vimeo.com/video/${t}?loop=false&byline=false&portrait=false&title=false&speed=true&transparent=0&gesture=media`),$(a).addClass("plyr__video-embed")}else{t=i.attr("data-video-id")||i.attr("data-vimeo-id");if(!t)return;$(a).addClass("plyr__video-embed").html(`
              <iframe
                src="https://player.vimeo.com/video/${t}?loop=false&byline=false&portrait=false&title=false&speed=true&transparent=0&gesture=media"
                allowfullscreen
                allowtransparency
                allow="autoplay">
              </iframe>
            `),r=$(a).find("iframe")[0]}try{var l=r.classList&&r.classList.contains("plyr_video")?r.parentElement:a||r,s=0<i.closest(".custom_list").length;let t=new Plyr(l,{controls:s?[]:["play","progress","current-time","mute","fullscreen"],resetOnEnd:!0,autoplay:!1,muted:!1,volume:1,vimeo:{byline:!1,portrait:!1,title:!1,speed:!0,transparent:!1}});function n(){i.find(".plyr__control").attr("tabindex","-1"),i.find(".plyr__progress input[data-plyr='seek']").attr("tabindex","-1"),i.find(".plyr").attr("tabindex","-1"),i.find("iframe").attr("tabindex","-1"),i.find(".plyr_cover").attr("tabindex","0"),i.find(".plyr_pause-trigger").hide()}t.on("ready",()=>{n(),i.removeClass("hide-cover")}),i.find(".plyr_cover").on("click",function(e){e.preventDefault(),e.stopPropagation(),t.play()}),t.on("ended",()=>{i.removeClass("hide-cover"),n()}),t.on("play",()=>{$(".plyr_component").removeClass("hide-cover"),i.addClass("hide-cover"),i.find(".plyr__control").attr("tabindex","0"),i.find(".plyr__progress input[data-plyr='seek']").attr("tabindex","0"),i.find(".plyr").attr("tabindex","0"),i.find("iframe").attr("tabindex","0"),i.find(".plyr_cover").attr("tabindex","-1"),i.find(".plyr_pause-trigger").show(),$(".plyr_component").not(i).each(function(){var e=$(this).data("plyr-player");e&&e.playing&&e.pause()})}),t.on("pause",()=>{}),i.find(".plyr_pause-trigger").on("click",function(e){e.preventDefault(),e.stopPropagation(),t.pause()}),t.on("ended",()=>{t.fullscreen.active&&t.fullscreen.exit()}),t.on("enterfullscreen",()=>{i.addClass("contain-video")}),t.on("exitfullscreen",()=>{i.removeClass("contain-video")}),t.on("error",e=>{i.find(".plyr_cover").html(`
            <div class="plyr_error">
              <p>Video failed to load. Please try again.</p>
              <button onclick="location.reload()">Reload Page</button>
            </div>
          `)}),i.find(".plyr_cover").on("keydown",function(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),t.play())}),i.find(".plyr_cover").attr({role:"button","aria-label":"Play video",tabindex:"0"}),i.data("plyr-player",t)}catch(e){i.find(".plyr_cover").html(`
          <div class="plyr_error">
            <p>Failed to initialize video player: ${e.message}</p>
            <button onclick="location.reload()">Reload Page</button>
          </div>
        `)}}}),window.cleanupPlyrPlayers=function(){$(".plyr_component").each(function(){var e=$(this).data("plyr-player");e&&"function"==typeof e.destroy&&e.destroy()})},$(window).on("beforeunload",function(){window.cleanupPlyrPlayers()}),$(window).on("resize",function(){$(".plyr_component").each(function(){var e=$(this).data("plyr-player");e&&"function"==typeof e.resize&&e.resize()})}),document.addEventListener("visibilitychange",function(){document.hidden&&$(".plyr_component").each(function(){var e=$(this).data("plyr-player");e&&e.playing&&e.pause()})})}),$(function(){setPinHeight(),$(window).on("resize",setPinHeight)}),initMobileVideoCanvas(),initDesktopVideoCanvas(),new SwiperManager,document.addEventListener("DOMContentLoaded",fixInvisibleActiveTab);